# AI-EVA 全局配置文件
# 版本: 2.0.0
# 更新日期: 2024-12-20

system:
  # 临时文件目录（建议使用 RAM Disk 或 SSD）
  temp_dir: "./temp"
  # 日志目录
  log_dir: "./logs"
  # 项目根目录（自动检测）
  project_root: "."

modules:
  # ========== ASR 模块配置 (SenseVoice) ==========
  asr:
    enabled: true
    # 模型路径（如果使用本地模型）
    model_path: "iic/SenseVoiceSmall"
    # 设备: cuda:0, cuda:1, cpu
    device: "cuda:0"
    # API 服务配置
    host: "127.0.0.1"
    port: 50000
    # 性能配置
    max_concurrent_requests: 5
    # 目标采样率
    target_sample_rate: 16000

  # ========== LLM 模块配置 (Ollama) ==========
  llm:
    type: "ollama"
    # Ollama API 地址
    base_url: "http://localhost:11434"
    # 默认模型名称
    model_name: "qwen2.5:7b"
    # 模型保持活跃时间
    keep_alive: "5m"
    # 超时设置（秒）
    timeout: 300
    # 温度参数
    temperature: 0.7
    # 最大 token 数
    max_tokens: 2048

  # ========== TTS 模块配置 (IndexTTS2) ==========
  tts:
    enabled: true
    # IndexTTS2 基础目录（相对于项目根目录）
    indextts_base_dir: "index-tts"
    # IndexTTS2 配置文件路径（相对于项目根目录）
    config_path: "index-tts/checkpoints/config.yaml"
    # IndexTTS2 模型路径（已废弃，保留用于兼容）
    model_path: "./models/index_tts"
    # 参考音频路径（用于音色克隆）
    ref_audio: "./voices/user_ref.wav"
    # 参考音频对应的文本（可选）
    ref_text: ""
    # API 服务配置
    host: "127.0.0.1"
    port: 9966
    # 性能配置
    max_concurrent_requests: 5
    # 音频缓存大小（MB）
    audio_cache_size: 100
    # 启动时预加载模型（true=启动时加载，false=延迟加载，首次请求时加载）
    preload_model: false
    # 使用 FP16 加速（需要 GPU 支持）
    use_fp16: false
    # 使用 CUDA Kernel（需要 GPU 支持）
    use_cuda_kernel: false

  # ========== WebUI 模块配置 ==========
  webui:
    enabled: true
    # 前端服务配置
    host: "127.0.0.1"
    port: 8000
    # 服务管理器端口
    manager_port: 9000
    # 静态文件目录
    static_dir: "."
    # HTML 文件
    html_file: "index.html"

# ========== 日志配置 ==========
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  save_to_file: true
  file_path: "./logs/ai-eva.log"
  max_file_size: "10MB"
  backup_count: 5

# ========== 性能优化配置 ==========
performance:
  # 是否使用 GPU
  use_gpu: true
  # 是否启用音频缓存
  enable_audio_cache: true
  # 临时文件清理间隔（秒）
  temp_cleanup_interval: 3600

