# AI-EVA Demo 快速开始指南

## 🚀 一键启动

### Windows 用户

1. **双击运行** `start-all.bat`
2. **等待服务启动**（约10-15秒）
3. **浏览器自动打开**，或手动访问 http://localhost:8000
4. **上传VRM模型**（拖拽到浏览器窗口）
5. **开始对话**！

### 首次使用

#### 1. 安装 Python（如果未安装）
- 下载：https://www.python.org/downloads/
- 版本要求：Python 3.8+
- 安装时勾选"Add Python to PATH"

#### 2. 安装 Ollama（必需）
- 下载：https://ollama.ai/download
- 安装后运行：
  ```bash
  ollama pull gemma2:2b
  ```
  或使用其他模型：
  ```bash
  ollama pull qwen2.5:3b
  ```

#### 3. 运行启动脚本
- 双击 `start-all.bat`
- 首次运行会自动安装Python依赖

## 📦 打包分发

### 打包项目
```bash
# 运行打包脚本
build-package.bat

# 打包完成后会生成 AI-EVA-Demo 目录
# 可以将整个目录压缩成 ZIP 文件分发
```

### 使用打包后的程序
1. 解压到任意目录
2. 双击 `启动.bat`（或 `start-all.bat`）
3. 等待服务启动
4. 浏览器会自动打开

## 🎮 功能使用

### 基础功能
- **文字对话**：在输入框输入文字，按 Enter 发送
- **语音输入**：点击 🎤 按钮使用语音识别
- **语音播放**：AI回复会自动播放语音
- **口型同步**：播放语音时，VRM模型会自动同步口型

### 角色切换
1. 打开设置面板（⚙️ 按钮）
2. 选择"角色配置"
3. 选择角色：
   - **EVA001**：友好、活泼、善解人意
   - **小羞**：害羞、温柔、细心
   - **元气**：活力充沛、热情开朗

### VRM模型
- 支持 VRM 1.0 格式
- 拖拽 `.vrm` 文件到浏览器窗口即可加载
- 推荐模型来源：
  - [VRoid Hub](https://hub.vroid.com/)
  - [Booth.pm](https://booth.pm/)

## ⚙️ 配置说明

### 服务端口
- 前端：8000
- ChatTTS：9966
- SenseVoice：50000（可选）
- Ollama：11434

### AI模型配置
在设置面板中：
1. 选择 Ollama 模型（需要先下载）
2. 选择 ChatTTS 音色
3. 调整语速（0.5x - 2.0x）

## 🐛 常见问题

### Q: 服务启动失败？
- 检查 Python 是否已安装并添加到 PATH
- 检查端口是否被占用
- 查看服务窗口的错误信息

### Q: AI不回复？
- 检查 Ollama 是否已启动
- 确认已下载模型：`ollama pull gemma2:2b`
- 检查设置中的模型名称是否正确

### Q: 语音不播放？
- 检查 ChatTTS 服务是否启动
- 查看 ChatTTS 窗口是否有错误
- 检查浏览器控制台（F12）

### Q: 口型不同步？
- 确保浏览器支持 Web Audio API
- 检查 VRM 模型是否支持 BlendShape
- 某些浏览器可能需要用户交互后才能播放音频

### Q: 依赖安装失败？
- 使用国内镜像：
  ```bash
  pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
  ```

## 📝 新功能说明

### v1.1.0 更新
- ✅ **陪伴性对话**：AI回复更加温暖、陪伴
- ✅ **口型同步**：基于音频分析的精确口型同步
- ✅ **一键打包**：支持打包成可分发包
- ✅ **智能启动**：自动检测依赖和端口

## 💡 使用技巧

1. **首次对话**：可以尝试"你好"、"介绍一下自己"等简单对话
2. **角色切换**：不同角色有不同的对话风格，可以多试试
3. **语音识别**：使用 SenseVoice 可以获得更高的识别准确度
4. **音色选择**：在设置中可以预览不同音色效果
5. **对话历史**：可以导出对话记录保存

## 📞 获取帮助

- 查看 `README.md` 获取详细文档
- 查看 `更新日志.md` 了解最新功能
- 查看 `打包说明.md` 了解打包方法

---

**祝使用愉快！** 🎉

